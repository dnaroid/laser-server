{% extends "base.html" %}
{% block content %}


    <div align="center" id="div_form_filter">
        <form id="form_filter">

            <select id="select_author" name="author"> </select>

            <select id="select_tags" name="t" style="display: none" multiple> </select>

            <input id="button_filter" type="button" value="Filter">
            <input id="button_reset" type="button" value="Reset">

        </form>
    </div>

    <div id="div_news_list">
        <table id="news_table">
        </table>
    </div>

    <div id="div_pagination" align="center">
    </div>


    {#    <div class="news-table">
        <table>
            <tr>
                <td colspan="3">
                    <div class="center-align">
                        #}{#  filter  #}{#
                        <form id="form_filter">

                            <select id="select_author" name="author">
                            </select>

                            <select id="select_tags" name="t" style="display: none" multiple>
                            </select>

                            <input id="button_filter" class="" type="button" value="Filter">
                            <input id="button_reset" class="" type="button" value="Reset">

                        </form>
                    </div>

                </td>
            </tr>
            #}{# news list #}{#
            {% if list %}
                {% for news in list.items %}
                    <tr>
                        <td colspan="2" class="left-align">
                            <strong>{{ news.title }}</strong>
                            (by {{ news.get_author().author_name }})
                        </td>
                        <td class="right-align">
                            {{ news.creation_date }}
                        </td>
                    </tr>
                    <tr>
                        <td colspan="3">
                            {{ news.short_text }}
                        </td>
                    </tr>
                    <tr>
                        <td colspan="3" class="right-align">
                            <span class="tags-list">
                                {{ news.get_tags() }}
                            </span>

                            <span class="comments-count">
                            Comments({{ news.get_comments_count() }})
                            </span>

                            {% if admin %}

                                <a href="{{ url_for('edit_news', back=list.page, id=news.news_id) }}">Edit</a>

                                <input type="checkbox" id="{{ news.news_id }}">

                            {% else %}
                                <a href="{{ url_for('show_news', back=list.page, id=news.news_id) }}">View</a>
                            {% endif %}
                        </td>
                    </tr>
                {% endfor %}

                {% if admin %}
                    <tr>
                        <td colspan="3" class="right-align">
                            <input type="button" value="Delete" id="submit">
                        </td>
                    </tr>
                {% endif %}

                <tr>
                <td colspan="3">

                #}{# pagination #}{#
                <div class="paginate">
                {% for page in list.iter_pages() %}
                    {% if page %}
                        {% if page != list.page %}
                            <a href="{{ url_for('index', page=page) }}"
                               class="btn btn-xs btn-default">{{ page }}</a>
                        {% else %}
                            <a href="#" class="btn btn-xs">{{ page }}</a>
                        {% endif %}
                    {% else %}
                        <span class=ellipsis>â€¦</span>
                    {% endif %}
                {% endfor %}

            {% endif %}
            </div>
            </td>
            </tr>
        </table>
    </div>#}

{% endblock %}
